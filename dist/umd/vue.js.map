{"version":3,"file":"vue.js","sources":["../../src/util/index.js","../../src/observer/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["export function isObject () {\r\n    if (typeof data !== 'object' && data !== null) {\r\n        return;\r\n    }\r\n}","// 把data中的数据 都使用Object.defineProperty 重新定义 es5\r\n// Object.defineProperty不能兼容ie8 及以下 vue2 无法兼容ie8版本\r\nimport { isObject } from '../util/index'\r\nexport function observe(data) {\r\n    let isObj = isObject(data);\r\n    if (!isObj) {\r\n        return;\r\n    }\r\n}","import { observe } from './observer/index'\r\nexport function initState(vm) {\r\n    const opts = vm.$options;\r\n    // vue 的数据来源 属性 方法 数据 计算属性 watch\r\n    if (opts.props) {\r\n        initProps(vm);\r\n    }\r\n    if (opts.methods) {\r\n        initMethods(vm);\r\n    }\r\n    if (opts.data) {\r\n        initData(vm);\r\n    }\r\n    if (opts.computed) {\r\n        initComputed(vm);\r\n    }\r\n    if (opts.watch) {\r\n        initWatch(vm);\r\n    }\r\n}\r\n\r\nfunction initProps() { }\r\nfunction initMethods() { }\r\nfunction initData(vm) {\r\n    // 数据初始化工作\r\n    let data = vm.$options.data;\r\n    data = vm._data = typeof data === 'function' ? data.call(vm) : data;\r\n    // 劫持对象 用户改变了数据 我希望可以得到通知 -> 刷新页面\r\n    // MVVM模式 数据变化可以驱动视图变化\r\n\r\n    // Object.defineProperty () 给属性增加get方法和set方法\r\n\r\n    observe(data); // 响应式原理\r\n}\r\nfunction initComputed() { }\r\nfunction initWatch() { }","import { initState } from './state'\r\n// 在原型上添加一个init方法\r\nexport function initMixin(Vue) {\r\n    // 初始化流程\r\n    Vue.prototype._init = function (options) {\r\n        // 数据劫持\r\n        const vm = this; // 在vue中使用 this.$options 指代的就是用户传递的属性\r\n        vm.$options = options;\r\n\r\n        // 初始化状态\r\n        initState(vm); // 分割代码\r\n    }\r\n}","// vue的核心代码 只是vue的一个声明\r\nimport { initMixin } from './init'\r\n\r\nfunction Vue(options) {\r\n    // 进行vue的初始化操作\r\n    this._init(options);\r\n}\r\n// 通过引入文件的方式给vue原型上添加方法\r\ninitMixin(Vue);\r\n\r\nexport default Vue;"],"names":["isObject","data","observe","isObj","initState","vm","opts","$options","props","methods","initData","computed","watch","_data","call","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;;;;;;;;;;;;;;;;;EAAO,SAASA,QAAT,GAAqB;EACxB,MAAI,QAAOC,IAAP,yCAAOA,IAAP,OAAgB,QAAhB,IAA4BA,IAAI,KAAK,IAAzC,EAA+C;EAC3C;EACH;EACJ;;ECJD;EAGO,SAASC,OAAT,CAAiBD,IAAjB,EAAuB;EAC1B,MAAIE,KAAK,GAAGH,QAAQ,CAAA,CAApB;;EACA,MAAI,CAACG,KAAL,EAAY;EACR;EACH;EACJ;;ECPM,SAASC,SAAT,CAAmBC,EAAnB,EAAuB;EAC1B,MAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB,CAD0B;;EAG1B,MAAID,IAAI,CAACE,KAAT,EAAgB;;EAGhB,MAAIF,IAAI,CAACG,OAAT,EAAkB;;EAGlB,MAAIH,IAAI,CAACL,IAAT,EAAe;EACXS,IAAAA,QAAQ,CAACL,EAAD,CAAR;EACH;;EACD,MAAIC,IAAI,CAACK,QAAT,EAAmB;;EAGnB,MAAIL,IAAI,CAACM,KAAT,EAAgB;EAGnB;;EAID,SAASF,QAAT,CAAkBL,EAAlB,EAAsB;EAClB;EACA,MAAIJ,IAAI,GAAGI,EAAE,CAACE,QAAH,CAAYN,IAAvB;EACAA,EAAAA,IAAI,GAAGI,EAAE,CAACQ,KAAH,GAAW,OAAOZ,IAAP,KAAgB,UAAhB,GAA6BA,IAAI,CAACa,IAAL,CAAUT,EAAV,CAA7B,GAA6CJ,IAA/D,CAHkB;EAKlB;EAEA;;EAEAC,EAAAA,OAAO,CAAA,CAAP,CATkB;EAUrB;;EC/BM,SAASa,SAAT,CAAmBC,GAAnB,EAAwB;EAC3B;EACAA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAAUC,OAAV,EAAmB;EACrC;EACA,QAAMd,EAAE,GAAG,IAAX,CAFqC;;EAGrCA,IAAAA,EAAE,CAACE,QAAH,GAAcY,OAAd,CAHqC;;EAMrCf,IAAAA,SAAS,CAACC,EAAD,CAAT,CANqC;EAOxC,GAPD;EAQH;;ECZD;;EAGA,SAASW,GAAT,CAAaG,OAAb,EAAsB;EAClB;EACA,OAAKD,KAAL,CAAWC,OAAX;EACH;;;EAEDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}