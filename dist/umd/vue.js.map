{"version":3,"file":"vue.js","sources":["../../myVue/utils/util.js","../../myVue/glaobal-api/index.js","../../myVue/vdom/patch.js","../../myVue/observer/dep.js","../../myVue/observer/watcher.js","../../myVue/lifecycle.js","../../myVue/data/array.js","../../myVue/init.js","../../myVue/compiler/generate.js","../../myVue/compiler/parse.js","../../myVue/compiler/index.js","../../myVue/state.js","../../myVue/utils/nextTick.js","../../myVue/vdom/index.js","../../myVue/myVue.js"],"sourcesContent":["function proxy (vm, data, key) {\r\n  Object.defineProperty(vm, key, {\r\n    get () {\r\n      return vm[data][key];\r\n    },\r\n    set (newValue) {\r\n      vm[data][key] = newValue;\r\n    }\r\n  })\r\n}\r\n\r\nfunction defineProperty (target, key, value) {\r\n  Object.defineProperty(target, key, {\r\n    enumerable: false, // 不能被枚举\r\n    configurable: false,\r\n    value: value\r\n  })\r\n}\r\n\r\nconst LIFECYCLE_HOOKS = [\r\n  'beforeCreate',\r\n  'created',\r\n  'beforeMount',\r\n  'mounted',\r\n  'beforeUpdate',\r\n  'update',\r\n  'beforeDestroy',\r\n  'destroyed'\r\n]\r\n\r\nconst strats = {};\r\nstrats.data = function (parentVal, childValue) {\r\n  return childValue; // 这里应该进行对象深度合并\r\n}\r\n// strats.computed = function () { }\r\n// strats.watch = function () { }\r\n\r\nfunction mergeHook (parentVal, childValue) {\r\n  if (childValue) {\r\n    if (parentVal) {\r\n      return parentVal.concat(childValue)\r\n    } else {\r\n      return [childValue];\r\n    }\r\n  } else {\r\n    return parentVal;\r\n  }\r\n}\r\n// 循环\r\nLIFECYCLE_HOOKS.forEach(hook => {\r\n  strats[hook] = mergeHook;\r\n})\r\nfunction mergeOptions (parent, child) {\r\n  // 遍历父亲 ，可能是父亲又 儿子没有\r\n  const options = {};\r\n  // 父亲有 儿子没有 循环出所有\r\n  for (let key in parent) {\r\n    mergeField(key);\r\n  }\r\n  // 儿子有 父亲没有 循环出所有\r\n  for (let key in child) {\r\n    if (!parent.hasOwnProperty(key)) {\r\n      mergeField(key)\r\n    }\r\n  }\r\n  function mergeField (key) {\r\n    if (strats[key]) {\r\n      options[key] = strats[key](parent[key], child[key]);\r\n    } else {\r\n      options[key] = child[key]\r\n    }\r\n    // 如果没有策略，就进行对象合并（小面试题）\r\n  }\r\n  return options;\r\n}\r\nconst callbacks = [];\r\n\r\nfunction flushCallbacks () {\r\n  callbacks.forEach(cb => cb());\r\n  pending = false;\r\n}\r\n\r\nlet timerFunc;\r\nif (Promise) {\r\n  timerFunc = () => {\r\n    Promise.resolve().then(flushCallbacks);\r\n  }\r\n} else if (MutationObserver) {\r\n  // h5 的API 可以监控dom变化，监控完毕后是异步更新\r\n  let observe = new MutationObserver(flushCallbacks);\r\n  let textNode = document.createTextNode(1);\r\n  observe.observe(textNode, { characterData: true });\r\n  timerFunc = () => {\r\n    textNode.textContent = 2;\r\n  }\r\n} else if (setImmediate) {\r\n  timerFunc = () => {\r\n    setImmediate(flushCallbacks)\r\n  }\r\n} else {\r\n  setTimeout(flushCallbacks);\r\n}\r\nlet pending = false;\r\nfunction nextTick (cb) { // 因为内部回调用nextTick 用户也会调用 但是异步只需要一次\r\n  callbacks.push(cb);\r\n  if (!pending) {\r\n    timerFunc();\r\n    pending = true;\r\n  }\r\n}\r\n\r\nexport {\r\n  proxy,\r\n  defineProperty,\r\n  mergeOptions,\r\n  LIFECYCLE_HOOKS,\r\n  nextTick\r\n}","import { mergeOptions } from '../utils/util'\r\n\r\nexport function initGlobalApi (Vue) {\r\n  Vue.options = {};\r\n  Vue.mixin = function (mixin) {\r\n    // 合并对象 （我先考虑生命周期）不考虑其他合并 data computed watch\r\n    this.options = mergeOptions(this.options, mixin);\r\n  }\r\n}\r\n// 用户new vue 合并","export function patch (oldVnode, vnode) {\r\n  // _c('div',{id:\"app\",style:{\"color\":\" red\"}},_v(\"你好：\"),_c('span',undefined,_v(\"阳光的\"+_s(name)+\"大人\")),_c('div',{id:\"age\"},_v(_s(age))))\r\n  // 默认初始化的时候，直接用虚拟节点创建出真实节点来，替换掉老的节点\r\n  if (oldVnode.nodeType === 1) {\r\n    // 如果传进来的老节点是一个真实节点，那么就直接更新\r\n    let el = createEle(vnode);\r\n    let parentElm = oldVnode.parentNode;\r\n    parentElm.insertBefore(el, oldVnode.nextsibling); // 当前的真实元素插入到app的后面\r\n    parentElm.removeChild(oldVnode);\r\n\r\n    return el;\r\n  } else {\r\n    // 在更新的时候 拿老的虚拟节点 和 新的虚拟节点做对比，将不同的地方更新\r\n    /* 以下是比较第一层node */\r\n    // 1、比较两个元素的标签，标签不一样直接替换掉就好\r\n    if (oldVnode.tag !== vnode.tag) {\r\n      // 老的dom元素\r\n      return oldVnode.el.parentNode.replaceChild(createEle(vnode), oldVnode.el);\r\n    }\r\n    // 2、有种可能是标签一样 文本节点的虚拟节点也相似(接上一步) \r\n    // 文本节点的虚拟节点tag 都是undefined\r\n    if (!oldVnode.tag) { //\r\n      if (oldVnode.text !== vnode.text) {\r\n        return oldVnode.el.textContent = vnode.text;\r\n      }\r\n    }\r\n    // 3、标签一样 并且需要开始比对标签的属性 和 儿子了\r\n    // 标签一样直接服用即可\r\n    let el = vnode.el = oldVnode.el; // 复用老节点\r\n\r\n    // 更新属性，用新的属性和老的属性做对比，去更新节点\r\n    updateProperties(vnode, oldVnode.data);\r\n\r\n    /* 以上是比较第一层节点 */\r\n    /* 以下是比较孩子节点 */\r\n    let oldChildren = oldVnode.children || [];\r\n    let newChildren = vnode.children || [];\r\n\r\n    if (oldChildren.length > 0 && newChildren.length > 0) {\r\n      // 老的有儿子 新的也有儿子 diff 算法\r\n      updateChildren(oldChildren, newChildren, el);\r\n    } else if (oldChildren.length > 0) { // 儿子节点分为以下几种情况\r\n      // 老的有儿子 新的没儿子\r\n      el.innerHTML = '';\r\n    } else if (newChildren.length > 0) {\r\n      // 老的没儿子 新的有儿子\r\n      for (let i = 0; i < newChildren.length; i++) {\r\n        let child = newChildren[i];\r\n        el.appendChild(createEle(child));\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n}\r\n// 判断是不是同一个节点\r\nfunction isSameVnode (oldVnode, newVnode) {\r\n  return (oldVnode.tag === newVnode.tag) && (oldVnode.key === newVnode.key)\r\n}\r\n// 儿子间的比较\r\nfunction updateChildren (oldChildren, newChildren, parent) {\r\n  // vue的diff算法 做了很多优化\r\n  // DOM中操作有很多常见的逻辑 把节点插入到当前儿子的头部、尾部、儿子倒叙正叙\r\n  // vue2中采用双指针的方式\r\n  let oldStartIndex = 0;\r\n  let oldStartVnode = oldChildren[0];\r\n  let oldEndIndex = oldChildren.length - 1;\r\n  let oldEndVnode = oldChildren[oldEndIndex];\r\n  let newStartIndex = 0;\r\n  let newStartVnode = newChildren[0];\r\n  let newEndIndex = newChildren.length - 1;\r\n  let newEndVnode = newChildren[newEndIndex];\r\n  // 在尾部添加\r\n  // 我要做一个循环，同时循环老的和新的，哪个先结束，循环就停止，将多余的删除或者添加进去\r\n  // 谁先循环完 停止\r\n  function makeIndexByKey (children) {\r\n    let map = {}\r\n    children.forEach((item, index) => {\r\n      map[item.key] = index; // 建立映射表，存储key值所在的位置\r\n    })\r\n    return map;\r\n  }\r\n  let map = makeIndexByKey(oldChildren);\r\n  while (oldStartIndex <= oldEndIndex && newStartIndex <= newEndIndex) {\r\n    if (!oldStartVnode) {\r\n      oldStartVnode = oldChildren[++oldStartIndex];\r\n    } else if (!oldEndVnode) {\r\n      oldEndVnode = oldChildren[--oldEndIndex];\r\n    } else if (isSameVnode(oldStartVnode, newStartVnode)) { // 如果俩人（开头）是同一个元素，递归深入后，自增\r\n      patch(oldStartVnode, newStartVnode); // 更新属性和style再去递归更新字节点\r\n      oldStartVnode = oldChildren[++oldStartIndex];\r\n      newStartVnode = newChildren[++newStartIndex];\r\n    } else if (isSameVnode(oldEndVnode, newEndVnode)) { // 如果俩人（结尾）是同一个元素，递归深入后，自增\r\n      patch(oldEndVnode, newEndVnode); // 更新属性和style再去递归更新字节点\r\n      oldEndVnode = oldChildren[--oldEndIndex];\r\n      newEndVnode = newChildren[--newEndIndex];\r\n    } else if (isSameVnode(oldStartVnode, newEndVnode)) {\r\n      patch(oldStartVnode, newEndVnode);\r\n      parent.insertBefore(oldStartVnode.el, oldEndVnode.el.nextsibling);\r\n      newEndVnode = newChildren[--newEndIndex];\r\n      oldStartVnode = oldChildren[++oldStartIndex];\r\n    } else if (isSameVnode(oldEndVnode, newStartVnode)) {\r\n      patch(oldEndVnode, newStartVnode);\r\n      parent.insertBefore(oldEndVnode.el, oldStartVnode.el);\r\n      newStartVnode = newChildren[++newStartIndex];\r\n      oldEndVnode = oldChildren[--oldEndIndex];\r\n    } else {\r\n      // 儿子之间没有关系 ..... 暴力对比\r\n      let moveIndex = map[newStartVnode.key]; // 拿到开头的虚拟节点的key 去老的中找\r\n      // 可能moveIndex根本不存在\r\n      if (moveIndex == undefined) {\r\n        parent.insertBefore(createEle(newStartVnode), oldStartVnode.el);\r\n      } else {\r\n        let moveVNode = oldChildren[moveIndex];\r\n        oldChildren[moveIndex] = null;\r\n        parent.insertBefore(moveVNode, oldStartVnode.el);\r\n        patch(moveVNode, newStartVnode); // 比较属性和儿子\r\n      }\r\n      newStartVnode = newChildren[++newStartIndex];\r\n    }\r\n  }\r\n  if (newStartIndex <= newEndIndex) {\r\n    for (let i = newStartIndex; i <= newEndIndex; i++) {\r\n      let ele = newChildren[newEndIndex + 1] == null ? null : newChildren[newEndIndex + 1].el;\r\n      parent.insertBefore(createEle(newChildren[i]), ele);\r\n    }\r\n  }\r\n  // 老的节点还没有处理的，说明这些老节点是不需要的节点，如果这里面有null说明，这个节点已经被处理过了，跳过即可\r\n  if (oldStartIndex <= oldEndIndex) {\r\n    for (let i = oldStartIndex; i <= oldEndIndex; i++) {\r\n      let child = oldChildren[i];\r\n      if (child != null) {\r\n        parent.removeChild(child.el);\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport function createEle (vnode) {\r\n  let { tag, children, key, data, text } = vnode;\r\n  if (typeof tag == 'string') {\r\n    vnode.el = document.createElement(tag);\r\n    updateProperties(vnode);\r\n    children.forEach(child => {\r\n      vnode.el.appendChild(createEle(child));\r\n    });\r\n  } else {\r\n    vnode.el = document.createTextNode(text)\r\n  }\r\n  return vnode.el;\r\n}\r\n\r\nfunction updateProperties (vnode, oldProps = {}) {\r\n  let el = vnode.el;\r\n  let newProps = vnode.data || {};\r\n  // 老的有，新的没有 需要删除属性\r\n  for (let key in oldProps) {\r\n    if (!newProps[key]) {\r\n      el.removeAttribute(key);\r\n    }\r\n  }\r\n  // 样式处理 老的 style= {color:blud} 新的 style = {background:red}\r\n  let newStyle = newProps.style || {};\r\n  let oldStyle = oldProps.style || {};\r\n  // 老的样式中有 ，新的没\r\n  for (let key in oldStyle) {\r\n    if (!newStyle[key]) {\r\n      el.style[key] = '';\r\n    }\r\n  }\r\n  // 新的有，那就直接用新的去做更新即可\r\n\r\n\r\n  for (let key in newProps) {\r\n    if (key == 'style') {\r\n      for (let styleName in newProps.style) {\r\n        el.style[styleName] = newProps.style[styleName]\r\n      }\r\n    } else if (key == 'class') {\r\n      el.className = newProps.class;\r\n    } else {\r\n      el.setAttribute(key, newProps[key]);\r\n    }\r\n  }\r\n}","let id = 0;\r\nclass Dep {\r\n  constructor() {\r\n    this.subs = [];\r\n    this.id = id++;\r\n  }\r\n  depend () {\r\n    // 我们希望 watcher 可以存放dep\r\n    // this.subs.push(Dep.target) // 存进去了一个watcher\r\n    Dep.target.addDep(this);\r\n  }\r\n  addSub (watcher) {\r\n    this.subs.push(watcher)\r\n  }\r\n  notify () {\r\n    this.subs.forEach(watcher => watcher.update())\r\n  }\r\n}\r\n\r\nDep.target = null;\r\n\r\nexport function pushTarget (watcher) {\r\n  Dep.target = watcher; // 保留watcher\r\n}\r\n\r\nexport function popTarget () {\r\n  Dep.target = null; //  将变量删除\r\n}\r\n\r\nexport default Dep;\r\n// 多对多的关系 一个属性有一个dep是用来收集watcher的\r\n// dep 可以存多个watcher vm.$watch('name')\r\n// 一个watcher可以对应多个dep","import { nextTick } from \"../utils/util\";\r\nimport { popTarget, pushTarget } from \"./dep\";\r\n\r\nlet id = 0;\r\nclass Watcher {\r\n  constructor(vm, exprOrFn, cb, options) {\r\n    // vm 实例\r\n    // exprOrFn vm._update(vm._render());\r\n    // cb\r\n    this.vm = vm;\r\n    this.exprOrFn = exprOrFn;\r\n    this.cb = cb;\r\n    this.options = options;\r\n    this.user = options.user; // 这个一个用户watcher\r\n    this.isWatcher = typeof options === 'boolean' ? options : false;; // 是渲染watcher\r\n    this.id = id++; // watcher 的唯一标识\r\n    this.deps = []; // watcher记录有多少个dep来依赖它\r\n    this.depsId = new Set();\r\n\r\n    if (typeof exprOrFn == 'function') {\r\n      this.getter = exprOrFn;\r\n    } else {\r\n      this.getter = function () {\r\n        //exprOrFn 可能是字符串a\r\n        // 去当前实例上去取值是才会触发依赖收集\r\n        let path = exprOrFn.split('.'); // ['a'.'a'.'a']\r\n        let obj = vm;\r\n        for (let i = 0; i < path.length; i++) {\r\n          obj = obj[path[i]];\r\n        }\r\n        return obj;\r\n      }\r\n    }\r\n    this.value = this.get(); // 默认会调用get方法\r\n  }\r\n  addDep (dep) {\r\n    let id = dep.id;\r\n    if (!this.depsId.has(id)) {\r\n      this.deps.push(dep);\r\n      this.depsId.add(id);\r\n      dep.addSub(this);\r\n    }\r\n  }\r\n  get () {\r\n    pushTarget(this) //当前watcher实例\r\n    let result = this.getter(); // 调用 渲染页面 会取值：render方法with(this)(_v(msg))\r\n    popTarget(this);\r\n\r\n    return result;\r\n  }\r\n  run () {\r\n    let newValue = this.get();\r\n    let oldValue = this.value;\r\n    this.value = newValue;\r\n    if (this.user) {\r\n      this.cb.call(this.vm, newValue, oldValue)\r\n    }\r\n  }\r\n  update () {\r\n    queueWatcher(this); // 暂存的概念\r\n    // this.get();\r\n  }\r\n}\r\nlet queue = []; // 将需要批量更新的watcher 存到一个队列中，稍后让watcher执行\r\nlet has = {};\r\nlet pending = false;\r\n\r\nfunction flushSchedulerQueue () {\r\n  queue.forEach(watcher => {\r\n    watcher.run();\r\n    if (!watcher.user) {\r\n      watcher.cb();\r\n    }\r\n  });\r\n  queue = [];\r\n  has = {};\r\n  pending = false;\r\n}\r\n\r\nfunction queueWatcher (watcher) {\r\n  const id = watcher.id;\r\n  if (has[id] == null) {\r\n    queue.push(watcher);\r\n    has[id] = true;\r\n    // 等待所有同步代码执行完毕后再执行\r\n    if (!pending) {\r\n      nextTick(flushSchedulerQueue);\r\n      pending = true;\r\n    }\r\n  }\r\n}\r\n\r\nexport default Watcher;","import { patch } from \"./vdom/patch\";\r\nimport Watcher from \"./observer/watcher\";\r\n\r\nexport function lifecycleMixin (Vue) {\r\n  Vue.prototype._update = function (vnode) {\r\n    const vm = this;\r\n    // 这里需要区分以下 到底是首次渲染还是更新\r\n    let prevVnode = vm._vnode;\r\n    if (!prevVnode) {\r\n      // 用新的创建的元素，替换老的vm.$el\r\n      vm.$el = patch(vm.$el, vnode);\r\n    } else {\r\n      vm.$el = patch(prevVnode, vnode)\r\n    }\r\n    vm._vnode = vnode;\r\n  }\r\n}\r\nexport function mountComponent (vm, el) {\r\n  vm.$el = el;\r\n  // 调用render方法去渲染 el属性\r\n  // 先调用render方法创建虚拟节点，再将虚拟节点渲染到页面上\r\n  callHook(vm, 'beforeMount');\r\n\r\n  let updateComponent = () => {\r\n    vm._update(vm._render());\r\n  }\r\n  // 这个Watcher是用于渲染的 目前没有任何功能\r\n  let watcher = new Watcher(vm, updateComponent, () => {\r\n    callHook(vm, 'beforeUpdate')\r\n  }, true); // 渲染watcher 只是一个名字\r\n  callHook(vm, 'mounted')\r\n}\r\n\r\nexport function callHook (vm, hook) {\r\n  const handles = vm.$options[hook];\r\n  if (handles) {\r\n    for (let i = 0; i < handles.length; i++) {\r\n      handles[i].call(vm);\r\n    }\r\n  }\r\n}","let oldArrayProtoMethods = Array.prototype;\r\nexport let arrayMethods = Object.create(oldArrayProtoMethods);\r\n\r\nlet methods = [\r\n  'push',\r\n  'pop',\r\n  'unshift',\r\n  'shift',\r\n  'splice',\r\n  'reverse',\r\n  'sort'\r\n]\r\n\r\nmethods.forEach(method => {\r\n  arrayMethods[method] = function (...args) {\r\n    const result = oldArrayProtoMethods[method].apply(this, arguments);\r\n    let inserted;\r\n    let ob = this.__ob__;\r\n    switch (methods) {\r\n      case 'push':\r\n        break;\r\n      case 'unshift':\r\n        inserted = args;\r\n        break;\r\n      case 'splice':\r\n        inserted = args.slice(2);\r\n      default:\r\n        break;\r\n    }\r\n    if (inserted) ob.observeArray(inserted);\r\n    ob.dep.notify();\r\n    return result;\r\n  }\r\n})","import { arrayMethods } from \"./data/array\";\r\nimport Dep from \"./observer/dep\";\r\nimport { defineProperty, proxy } from \"./utils/util\";\r\nexport function initState (vm) {\r\n  const opts = vm.$options;\r\n  if (opts.props) {\r\n    initProps(vm);\r\n  }\r\n  if (opts.methods) {\r\n    initMethods(vm);\r\n  }\r\n  if (opts.data) {\r\n    initData(vm);\r\n  }\r\n  if (opts.computed) {\r\n    initComputed(vm);\r\n  }\r\n  if (opts.watch) {\r\n    initWatch(vm);\r\n  }\r\n}\r\n\r\nfunction initProps (vm) {\r\n\r\n}\r\n\r\nfunction initMethods (vm) {\r\n\r\n}\r\n\r\nfunction initData (vm) {\r\n  let data = vm.$options.data;\r\n  vm._data = data = typeof data === 'function' ? data.call(vm) : data;\r\n  for (let key in data) {\r\n    proxy(vm, '_data', key);\r\n  }\r\n  observe(data);\r\n}\r\n\r\nfunction initComputed (vm) {\r\n  let computed = vm.$options.computed;\r\n  // 1、需要有一个watcher 2、还需要通过defineProperty 3、dirty\r\n  // const watchers = vm._computedWatchers = {}; // 稍后用来存放计算属性的watcher\r\n  for (let key in computed) {\r\n    const userDef = computed[key]; // 取出对应的值\r\n    // 获取get方法\r\n    // const getter = typeof userDef === 'function' ? userDef : userDef.get; // watcher 使用的\r\n    // defineReactive();\r\n    defineComputed(vm, key, userDef);\r\n  }\r\n}\r\n\r\nconst sharedPropertyDeffinition = {};\r\n\r\nfunction defineComputed (target, key, userDef) {\r\n  if (typeof userDef === 'function') {\r\n    sharedPropertyDeffinition.get = userDef;\r\n  } else {\r\n    sharedPropertyDeffinition.get = userDef.get; // 需要加缓存\r\n    sharedPropertyDeffinition.set = userDef.set;\r\n  }\r\n  Object.defineProperty(target, key, sharedPropertyDeffinition);\r\n}\r\n\r\nfunction initWatch (vm) {\r\n  let watch = vm.$options.watch;\r\n  for (let key in watch) {\r\n    const handler = watch[key]; // handler 可能是\r\n    if (Array.isArray(handler)) { //  数组\r\n      handler.forEach(handler => {\r\n        createWatcher(vm, key, handler)\r\n      })\r\n    } else {\r\n      createWatcher(vm, key, handler); // 字符串， 对象， 函数\r\n    }\r\n  }\r\n}\r\n\r\nfunction createWatcher (vm, exproOrFn, handler, options) { // options 可以用来标识 是用户\r\n  if (typeof handler == 'object') {\r\n    options = handler;\r\n    handler = handler.handler;\r\n  }\r\n  if (typeof handler == 'string') {\r\n    handler = vm[handler];\r\n  }\r\n  return vm.$watch(exproOrFn, handler, options);\r\n}\r\n\r\nclass Observe {\r\n  constructor(value) {\r\n    this.dep = new Dep();\r\n    // 判断一个对象是否被检测过\r\n    defineProperty(value, '__ob__', this)\r\n    if (Array.isArray(value)) {\r\n      // 我希望调用 push shift unshift splice sort reverse pop\r\n      value.__proto__ = arrayMethods;\r\n      // 观测\r\n      this.observeArray(value);\r\n    } else {\r\n      this.walk(value);\r\n    }\r\n  }\r\n  walk (data) {\r\n    let keys = Object.keys(data);\r\n    keys.forEach(key => {\r\n      defineReactive(data, key, data[key]);\r\n    })\r\n  }\r\n  observeArray (value) {\r\n    value.forEach(item => {\r\n      observe(item);\r\n    })\r\n  }\r\n}\r\n\r\nfunction defineReactive (data, key, value) {\r\n  // 获取到数组对应的dep\r\n  let childDep = observe(value);\r\n\r\n  let dep = new Dep(); // 每个属性都有一个dep\r\n\r\n  // 当页面取值时，说明这个值用来渲染了，将这个watcher和这个属性对应起来\r\n  Object.defineProperty(data, key, {\r\n    get () {\r\n      // console.log('用户获取值了', value)\r\n      if (Dep.target) {\r\n        dep.depend();\r\n        if (childDep) {\r\n          childDep.dep.depend();\r\n        }\r\n      }\r\n      return value;\r\n    },\r\n    set (newValue) {\r\n      // console.log('用户设置值了');\r\n      if (newValue === value) return;\r\n      observe(newValue);\r\n      value = newValue;\r\n      dep.notify();\r\n    }\r\n  })\r\n}\r\n\r\nfunction observe (data) {\r\n  if (typeof data !== 'object' || data == null) return;\r\n  if (data.__ob__) {\r\n    return;\r\n  }\r\n  return new Observe(data)\r\n}","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\r\nfunction genProps (attrs) {\r\n  let str = '';\r\n  for (let i = 0; i < attrs.length; i++) {\r\n    let attr = attrs[i];\r\n    if (attr.name === 'style') {\r\n      let obj = {};\r\n      attr.value.split(';').forEach(item => {\r\n        let [key, value] = item.split(':');\r\n        obj[key] = value;\r\n      });\r\n      attr.value = obj;\r\n    }\r\n    str += `${attr.name}:${JSON.stringify(attr.value)},`\r\n  }\r\n  return `{${str.slice(0, -1)}}`\r\n}\r\n\r\nfunction gen (node) {\r\n  if (node.type == 1) {\r\n    return generate(node); // 生成元素节点字符串\r\n  } else {\r\n    let text = node.text;\r\n    // 如果是普通文本，不带{{}}\r\n    if (!defaultTagRE.test(text)) {\r\n      return `_v(${JSON.stringify(text)})`\r\n    }\r\n    let tokens = []; // 存放每一段代码\r\n    let lastIndex = defaultTagRE.lastIndex = 0; // 如果正则式全局模式，需要每次使用前重置为零\r\n    let match, index; // 每次匹配到的结果\r\n    while (match = defaultTagRE.exec(text)) {\r\n      index = match.index; // 保存匹配到的索引\r\n      if (index > lastIndex) {\r\n        tokens.push(JSON.stringify(text.slice(lastIndex, index)));\r\n      }\r\n      tokens.push(`_s(${match[1].trim()})`)\r\n      lastIndex = index + match[0].length;\r\n    }\r\n    if (lastIndex < text.length) {\r\n      tokens.push(JSON.stringify(text.slice(lastIndex)));\r\n    }\r\n    return `_v(${tokens.join('+')})`;\r\n  }\r\n}\r\n\r\nfunction genChildren (children) {\r\n  if (children) {\r\n    return children.map(child => gen(child)).join(',');\r\n  }\r\n}\r\nexport function generate (ast) {\r\n  let code = `_c('${ast.tag}',${ast.attrs.length ? genProps(ast.attrs) : 'undefined'},${ast.children ? genChildren(ast.children) : ''})`;\r\n  return code;\r\n}","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; // aa-aa \r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //aa:aa\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 可以匹配到标签名  [1]\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); //[0] 标签的结束名字\r\n//    style=\"xxx\"   style='xxx'  style=xxx\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\r\nconst startTagClose = /^\\s*(\\/?)>/;\r\n\r\nexport function parseHTML (html) {\r\n\r\n  function createASTElement (tagName, attrs) {\r\n    return {\r\n      tag: tagName, // 标签名\r\n      type: 1, // 标签类型\r\n      children: [], // 孩子列表\r\n      attrs, // 属性集合\r\n      parent: null // 父元素\r\n    }\r\n  }\r\n  let root;\r\n  let currentParent;\r\n  let stack = [];\r\n  function start (tagName, attrs) {\r\n    let element = createASTElement(tagName, attrs);\r\n    if (!root) {\r\n      root = element;\r\n    }\r\n    currentParent = element; // 当前解析的标签保存起来\r\n    stack.push(element);\r\n  }\r\n\r\n  function end () {\r\n    let element = stack.pop(); // 取出栈中的最后一个\r\n    currentParent = stack[stack.length - 1];\r\n    if (currentParent) { // 在闭合标签是可以知道这个标签的父亲是谁\r\n      element.parent = currentParent;\r\n      currentParent.children.push(element);\r\n    }\r\n  }\r\n\r\n  function chars (text) {\r\n    text = text.replace(/\\s/g, '');\r\n    if (text) {\r\n      currentParent.children.push({\r\n        type: 3,\r\n        text\r\n      })\r\n    }\r\n  }\r\n\r\n  while (html) { // 只要html不为空，就一直解析\r\n    let textEnd = html.indexOf('<')\r\n    if (textEnd == 0) {\r\n      // 肯定是标签\r\n      const startTagMatch = parseStartTag();\r\n      if (startTagMatch) {\r\n        start(startTagMatch.tagName, startTagMatch.attrs);\r\n        continue;\r\n      }\r\n      const endTagMatch = html.match(endTag);\r\n      if (endTagMatch) {\r\n        advance(endTagMatch[0].length);\r\n        end(endTagMatch[1]); // 将结束标签传入\r\n        continue;\r\n      }\r\n    }\r\n    let text;\r\n    if (textEnd > 0) { // 是文本\r\n      text = html.substring(0, textEnd);\r\n    }\r\n    if (text) { // 处理文本\r\n      advance(text.length);\r\n      chars(text);\r\n    }\r\n  }\r\n\r\n  function advance (n) {\r\n    html = html.substring(n);\r\n  }\r\n\r\n  function parseStartTag () {\r\n    const start = html.match(startTagOpen);\r\n    if (start) {\r\n      const match = {\r\n        tagName: start[1],\r\n        attrs: []\r\n      }\r\n      advance(start[0].length);// 删除开始标签\r\n      // 如果直接是闭合标签了 说明没有属性\r\n      let end;\r\n      let attr;\r\n      while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\r\n        match.attrs.push({ name: attr[1], value: attr[3] || attr[4] || attr[5] })\r\n        advance(attr[0].length); //去掉当前属性\r\n      }\r\n      if (end) {\r\n        advance(end[0].length);\r\n        return match;\r\n      }\r\n    }\r\n  }\r\n\r\n  return root;\r\n}","import { generate } from \"./generate\";\r\nimport { parseHTML } from \"./parse\";\r\n\r\nexport function compileToFunction (template) {\r\n  // html模板 -> render函数\r\n  // 1、需要将html代码转化成“ast”语法树 可以用ast书来描述语言本身\r\n\r\n  // 前端必须掌握的数据结构 （树）\r\n  let ast = parseHTML(template);\r\n  // 2、 优化静态节点\r\n  // ...\r\n\r\n  // 3、通过这颗树 重新生成代码\r\n  let code = generate(ast);\r\n  // 4、将字符串变成函数\r\n  let render = new Function(`with(this){return ${code}};`);\r\n  return render;\r\n}","import { initState } from \"./init\";\r\nimport { compileToFunction } from \"./compiler/index\"\r\nimport { callHook, mountComponent } from \"./lifecycle\";\r\nimport { mergeOptions } from \"./utils/util\";\r\nexport function initMixin (Vue) {\r\n  Vue.prototype._init = function (options) {\r\n    let vm = this;\r\n\r\n    vm.$options = mergeOptions(vm.constructor.options, options);\r\n\r\n    callHook(vm, 'beforeCreate');\r\n\r\n    initState(vm);\r\n\r\n    callHook(vm, 'created');\r\n\r\n    if (vm.$options.el) {\r\n      vm.$mount(vm.$options.el);\r\n    }\r\n  }\r\n\r\n  Vue.prototype.$mount = function (el) {\r\n    // 挂载操作\r\n    const vm = this;\r\n    const options = vm.$options;\r\n    el = document.querySelector(el);\r\n\r\n    if (!options.render) {\r\n      // 如果没render 将template转换成render方法\r\n\r\n      let template = options.template;\r\n      if (!template && el) {\r\n        template = el.outerHTML; // DOM知识部分\r\n      }\r\n      // 编译原理 将模板编译成render函数\r\n      const render = compileToFunction(template);\r\n      // console.log(render)\r\n      options.render = render;\r\n    }\r\n    // 挂载当前组件\r\n    mountComponent(vm, el);\r\n  }\r\n}","import Watcher from \"../observer/watcher\";\r\nimport { nextTick } from \"./util\";\r\n\r\nexport function stateMixin (Vue) {\r\n  Vue.prototype.$nextTick = function (cb) {\r\n    nextTick(cb)\r\n  }\r\n  Vue.prototype.$watch = function (exproOrFn, handler, options = {}) {\r\n    if (!options.user) {\r\n      options = { ...options, user: true }\r\n    }\r\n    let watcher = new Watcher(this, exproOrFn, handler, options);\r\n    if (options.immediate) {\r\n      handler();\r\n    }\r\n  }\r\n}","export function renderMixin (Vue) { // 用对象来描述dom的结构\r\n  // _c('div',{id:\"app\",style:{\"color\":\" red\"}},_v(\"你好：\"),_c('span',undefined,_v(\"阳光的\"+_s(name)+\"大人\")),_c('div',{id:\"age\"},_v(_s(age))))\r\n  Vue.prototype._c = function () {\r\n    // 创建元素\r\n    return createElement(...arguments);\r\n  }\r\n  Vue.prototype._v = function (text) {\r\n    // stringify\r\n    return createTextVnode(text);\r\n  }\r\n  Vue.prototype._s = function (val) {\r\n    // 创建文本元素\r\n    return val == null ? '' : (typeof val == 'object') ? JSON.stringify(val) : val;\r\n  }\r\n  Vue.prototype._render = function () {\r\n    const vm = this;\r\n    const render = vm.$options.render;\r\n    let vnode = render.call(vm);\r\n    return vnode;\r\n  }\r\n}\r\n\r\nfunction createElement (tag, data = {}, ...children) {\r\n  return vnode(tag, data, data.key, children)\r\n}\r\n\r\nfunction createTextVnode (text) {\r\n  return vnode(undefined, undefined, undefined, undefined, text)\r\n}\r\n\r\nfunction vnode (tag, data, key, children, text) {\r\n  return {\r\n    tag,\r\n    data,\r\n    key,\r\n    children,\r\n    text,\r\n  }\r\n}","import { initGlobalApi } from \"./glaobal-api/index\";\r\nimport { lifecycleMixin } from \"./lifecycle\";\r\nimport { initMixin } from \"./state\";\r\nimport { stateMixin } from \"./utils/nextTick\";\r\nimport { renderMixin } from \"./vdom/index\";\r\n\r\nlet Vue = function (options) {\r\n  this._init(options);\r\n}\r\n\r\n// 原型方法\r\ninitMixin(Vue);\r\nlifecycleMixin(Vue);\r\nrenderMixin(Vue);\r\nstateMixin(Vue);\r\n\r\n// 静态方法 Vue.component Vue.directive Vue.extend Vue.mixin\r\ninitGlobalApi(Vue);\r\n\r\nexport default Vue;"],"names":["proxy","vm","data","key","Object","defineProperty","get","set","newValue","target","value","enumerable","configurable","LIFECYCLE_HOOKS","strats","parentVal","childValue","mergeHook","concat","forEach","hook","mergeOptions","parent","child","options","mergeField","hasOwnProperty","callbacks","flushCallbacks","cb","pending","timerFunc","Promise","resolve","then","MutationObserver","observe","textNode","document","createTextNode","characterData","textContent","setImmediate","setTimeout","nextTick","push","initGlobalApi","Vue","mixin","patch","oldVnode","vnode","nodeType","el","createEle","parentElm","parentNode","insertBefore","nextsibling","removeChild","tag","replaceChild","text","updateProperties","oldChildren","children","newChildren","length","updateChildren","innerHTML","i","appendChild","isSameVnode","newVnode","oldStartIndex","oldStartVnode","oldEndIndex","oldEndVnode","newStartIndex","newStartVnode","newEndIndex","newEndVnode","makeIndexByKey","map","item","index","moveIndex","undefined","moveVNode","ele","createElement","oldProps","newProps","removeAttribute","newStyle","style","oldStyle","styleName","className","setAttribute","id","Dep","subs","addDep","watcher","update","pushTarget","popTarget","Watcher","exprOrFn","user","isWatcher","deps","depsId","Set","getter","path","split","obj","dep","has","add","addSub","result","oldValue","call","queueWatcher","queue","flushSchedulerQueue","run","lifecycleMixin","prototype","_update","prevVnode","_vnode","$el","mountComponent","callHook","updateComponent","_render","handles","$options","oldArrayProtoMethods","Array","arrayMethods","create","methods","method","args","apply","arguments","inserted","ob","__ob__","slice","observeArray","notify","initState","opts","props","initData","computed","initComputed","watch","initWatch","_data","userDef","defineComputed","sharedPropertyDeffinition","handler","isArray","createWatcher","exproOrFn","$watch","Observe","__proto__","walk","keys","defineReactive","childDep","depend","defaultTagRE","genProps","attrs","str","attr","name","JSON","stringify","gen","node","type","generate","test","tokens","lastIndex","match","exec","trim","join","genChildren","ast","code","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","createASTElement","tagName","root","currentParent","stack","start","element","end","pop","chars","replace","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","advance","substring","n","compileToFunction","template","render","Function","initMixin","_init","constructor","$mount","querySelector","outerHTML","stateMixin","$nextTick","immediate","renderMixin","_c","_v","createTextVnode","_s","val"],"mappings":"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"}